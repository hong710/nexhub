<div id="category-table" class="relative flex flex-col h-full overflow-hidden rounded-lg border border-slate-200 shadow-inner w-full">
    <div class="flex-1 overflow-auto min-h-0">
        <table class="min-w-full table-auto divide-y divide-slate-200 text-[12px]">
            <thead class="bg-blue-800 text-white border-b border-blue-900 sticky top-0 z-20">
                <tr>
                    <th class="px-2 py-2 text-left font-semibold align-top border-r border-blue-900 w-12">#</th>
                    <th class="px-2 py-2 text-left font-semibold align-top border-r border-blue-900">Device Type</th>
                    <th class="px-2 py-2 text-left font-semibold align-top border-r border-blue-900">Added By</th>
                    <th class="px-2 py-2 text-left font-semibold align-top">Actions</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-200 bg-white">
                {% for category in page_obj %}
                <tr class="hover:bg-blue-50">
                    <td class="px-2 py-1.5 text-[12px] text-slate-700 border-r border-slate-200 text-center w-12">
                        {{ forloop.counter0|add:page_obj.start_index }}
                    </td>
                    <td class="px-2 py-1.5 text-[12px] text-slate-700 border-r border-slate-200">{{ category.device_type }}</td>
                    <td class="px-2 py-1.5 text-[12px] border-r border-slate-200">
                        {% if category.added_by == "agent" %}
                        <span class="inline-flex items-center px-2 py-1 rounded-full bg-blue-100 text-blue-700 text-[11px] font-semibold border border-blue-200">Agent</span>
                        {% else %}
                        <span class="inline-flex items-center px-2 py-1 rounded-full bg-slate-100 text-slate-700 text-[11px] font-semibold border border-slate-200">Manual</span>
                        {% endif %}
                    </td>
                    <td class="px-2 py-1.5 text-[12px] text-slate-700">
                        <div class="flex items-center gap-2">
                            {% if category.added_by == "manual" %}
                            <a
                                href="#"
                                data-title="Edit category"
                                data-form-url="{% url 'overwatch:category_edit' category.pk %}"
                                class="category-modal-open text-blue-700 hover:underline text-xs"
                            >Edit</a>
                            <button
                                type="button"
                                class="text-red-600 hover:underline text-xs category-delete-btn"
                                data-delete-url="{% url 'overwatch:category_delete' category.pk %}"
                                data-label="{{ category.device_type }}"
                            >Delete</button>
                            {% else %}
                            <span class="text-slate-400 text-xs">â€”</span>
                            {% endif %}
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="px-3 py-4 text-center text-sm text-slate-600">No categories found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    {% include "components/pagination.html" with prefix="category" %}
</div>

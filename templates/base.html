<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}NexHub{% endblock %}</title>
    <!-- Tailwind CDN for quick styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Flowbite components -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js" defer></script>
    <!-- HTMX for partial updates -->
    <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>
</head>
<body class="h-full flex flex-col overflow-hidden bg-slate-50">
    <header class="bg-blue-900 text-white shadow flex-shrink-0 z-50">
        <nav class="px-6 py-4">
            <div class="max-w-7xl lg:max-w-[1800px] mx-auto flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between">
                <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-full bg-white/10 flex items-center justify-center text-xl font-semibold">
                        NH
                    </div>
                    <div>
                        <div class="text-xl font-semibold tracking-tight">NexHub</div>
                        <div class="text-xs uppercase tracking-[0.2em] text-white/70">Overwatch</div>
                    </div>
                </div>
                {% with current=request.resolver_match.url_name %}
                <div class="flex flex-wrap items-center gap-4 text-sm">
                    <div class="flex items-center gap-3">
                        <a href="#" class="hover:text-blue-100">Dashboard</a>
                        <a href="/" class="hover:text-blue-100 {% if current == 'server_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Servers</a>
                        <a href="#" class="hover:text-blue-100">IPAM</a>
                        <a href="#" class="hover:text-blue-100">Subnets</a>
                        {% if request.user.is_staff %}
                        <a href="/dictionary/" class="hover:text-blue-100 {% if current == 'dictionary_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Dictionary</a>
                        <a href="/tags/" class="hover:text-blue-100 {% if current == 'tag_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Tags</a>
                        <a href="/categories/" class="hover:text-blue-100 {% if current == 'category_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Categories</a>
                        {% endif %}
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="px-2 py-1 rounded bg-white/10 text-xs">Logged in as {{ request.user.username|default:"guest" }}</span>
                        {% if request.user.is_authenticated %}
                        <a href="/admin/logout/" class="px-3 py-1 rounded bg-white/10 hover:bg-white/20 border border-white/20 text-xs">Logout</a>
                        {% else %}
                        <a href="/admin/login/" class="px-3 py-1 rounded bg-white/10 hover:bg-white/20 border border-white/20 text-xs">Login</a>
                        {% endif %}
                    </div>
                </div>
                {% endwith %}
            </div>
        </nav>
    </header>
    
    <main class="flex-1 overflow-hidden flex flex-col min-h-0">
        <div class="max-w-7xl lg:max-w-[1800px] w-full mx-auto px-4 py-4 flex-1 flex flex-col overflow-hidden min-h-0">
            {% block content %}{% endblock %}
        </div>
    </main>

    <footer class="flex-shrink-0 w-full bg-white border-t border-slate-200 px-4 py-3 text-xs text-slate-600 flex flex-col md:flex-row md:items-center md:justify-between gap-2">
        <div>
            © 2025 NexHub · Infrastructure Management Portal
        </div>
        <div class="flex items-center gap-3">
            <span>Version 1.0.0 · Internal Use Only</span>
            <span>Created and managed by John Doe &amp; Jena Doe</span>
        </div>
    </footer>
</body>
</html>

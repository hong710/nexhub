<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}NexHub{% endblock %}</title>
    {% load static %}
    <!-- Tailwind CSS (local) -->
    <script src="{% static 'js/tailwind.min.js' %}"></script>
    <!-- Flowbite components (local) -->
    <link href="{% static 'css/flowbite.min.css' %}" rel="stylesheet" />
    <script src="{% static 'js/flowbite.min.js' %}" defer></script>
    <!-- HTMX for partial updates (local) -->
    <script src="{% static 'js/htmx.min.js' %}" defer></script>
</head>
<body class="h-full flex flex-col overflow-hidden bg-slate-50">
    <header class="bg-blue-900 text-white shadow flex-shrink-0 z-50">
        <nav class="px-6 py-4">
            <div class="max-w-7xl lg:max-w-[1800px] mx-auto flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between">
                <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-full bg-white/10 flex items-center justify-center text-xl font-semibold">
                        NH
                    </div>
                    <div>
                        <div class="text-xl font-semibold tracking-tight">NexHub</div>
                        <div class="text-xs uppercase tracking-[0.2em] text-white/70">Overwatch</div>
                    </div>
                </div>
                {% with current=request.resolver_match.url_name %}
                <div class="flex flex-wrap items-center gap-4 text-sm">
                    <div class="flex items-center gap-3">
                        <a href="{% url 'overwatch:admin_dashboard' %}" class="hover:text-blue-100 {% if current == 'admin_dashboard' %}font-semibold text-white underline underline-offset-4{% endif %}">ðŸ“Š Dashboard</a>
                        <a href="{% url 'overwatch:activity_log' %}" class="hover:text-blue-100 {% if current == 'activity_log' %}font-semibold text-white underline underline-offset-4{% endif %}">ðŸ—’ Logs</a>
                        <a href="/" class="hover:text-blue-100 {% if current == 'server_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Servers</a>
                        <a href="{% url 'overwatch:ipam_list' %}" class="hover:text-blue-100 {% if current == 'ipam_list' %}font-semibold text-white underline underline-offset-4{% endif %}">IPAM</a>
                        <a href="{% url 'overwatch:subnet_list' %}" class="hover:text-blue-100 {% if current == 'subnet_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Subnets</a>
                        {% if request.user.is_staff %}
                        <a href="/dictionary/" class="hover:text-blue-100 {% if current == 'dictionary_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Data Mapping</a>
                        <a href="/tags/" class="hover:text-blue-100 {% if current == 'tag_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Tags</a>
                        <a href="/categories/" class="hover:text-blue-100 {% if current == 'category_list' %}font-semibold text-white underline underline-offset-4{% endif %}">Categories</a>
                        {% endif %}
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="px-2 py-1 rounded bg-white/10 text-xs">Logged in as {{ request.user.username|default:"guest" }}</span>
                        {% if request.user.is_authenticated %}
                        <a href="{% url 'logout' %}" class="px-3 py-1 rounded bg-white/10 hover:bg-white/20 border border-white/20 text-xs">Logout</a>
                        {% else %}
                        <a href="{% url 'login' %}" class="px-3 py-1 rounded bg-white/10 hover:bg-white/20 border border-white/20 text-xs">Login</a>
                        {% endif %}
                    </div>
                </div>
                {% endwith %}
            </div>
        </nav>
    </header>
    
    <main class="flex-1 overflow-hidden flex flex-col min-h-0">
        <div class="max-w-7xl lg:max-w-[1800px] w-full mx-auto px-4 py-4 flex-1 flex flex-col overflow-hidden min-h-0">
            {% block content %}{% endblock %}
        </div>
    </main>

    <footer class="flex-shrink-0 w-full bg-gradient-to-r from-slate-900 to-slate-800 border-t border-slate-700">
        <div class="px-4 py-3 sm:px-6">
            <div class="max-w-7xl lg:max-w-[1800px] mx-auto">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-xs">
                    <!-- Left side: Copyright -->
                    <div class="text-slate-400">
                        Â© 2025 NexHub Â· v1.0.0 Â· <span class="text-slate-500">Internal Use</span>
                    </div>

                    <!-- Right side: Management info -->
                    <div class="text-slate-400">
                        Managed &amp; maintained by <span class="text-slate-300 font-medium">John Doe</span> &amp; <span class="text-slate-300 font-medium">Jena Doe</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>
